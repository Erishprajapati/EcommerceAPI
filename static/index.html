<!DOCTYPE html>
<html>
<head>
    <title>Ecommerce</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <nav>
        <ul id="navbar" class="navbar">
            <!-- Nav items will be inserted here dynamically -->
        </ul>
    </nav>
    
    <div class="main-content">
        <h1>Welcome to Ecommerce</h1>
        <p>Browse store and get delivered within 48 hours!</p>
    </div>

<script>
    // Simple check for user logged in status (example only)
    function isLoggedIn() {
        return localStorage.getItem('loggedIn') === 'true';
    }

    function renderNavbar() {
        const navbar = document.getElementById('navbar');
        navbar.innerHTML = '';  // Clear existing links

        if (isLoggedIn()) {
            // Logged in view: Add Product + Logout
            navbar.innerHTML = `
                <li><a href="/static/index.html">Home</a></li>
                <li><a href="/static/products.html">Products</a></li>
                <li><a href="/static/add_product.html">Add Product</a></li>
                <li><a href="#" id="logout-link">Logout</a></li>
            `;

            document.getElementById('logout-link').addEventListener('click', function(e) {
                e.preventDefault();
                if (confirm("Are you sure you want to logout?")) {
                    // Clear login flag (or token) from storage
                    localStorage.removeItem('loggedIn');
                    alert("Logout successful!");
                    // Redirect to login page
                    window.location.href = '/static/login.html';
                }
            });

        } else {
            // Not logged in view: Login + Register
            navbar.innerHTML = `
                <li><a href="/static/index.html">Home</a></li>
                <li><a href="/static/products.html">Products</a></li>
                <li><a href="/static/login.html">Login</a></li>
                <li><a href="/static/register.html">Register</a></li>
            `;
        }
    }

    // On page load, render the navbar
    renderNavbar();
</script>
<script src="/frontend/navbar.js"></script>

</body>
</html>
